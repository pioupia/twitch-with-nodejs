<!DOCTYPE html>
<html>
	<head>
		<title>Live</title>
	</head>
	<body style="height: 100%; background-color: transparent;">
		<video id="videoPlaying" play></video>
	<script>
		setInterval(async () => {
			let d = Date.now();
			let data = await fetch("http://localhost:8080/playVideo");
			data = await data.blob();

			setTimeout(() => {
				videoPlaying.src = URL.createObjectURL(data);
				videoPlaying.load();
				videoPlaying.onloadeddata = function() {
					videoPlaying.play();
				}
			}, 500 - (Date.now() - d))
		}, 1800)
	</script>
	</body>
</html>